<div class="container">

  <!-- Mensaje -->
  <div *ngIf="mensaje"
       [ngClass]="{'alert-success': mensaje.startsWith('✅'), 'alert-error': !mensaje.startsWith('✅')}"
       class="alert">
    {{ mensaje }}
  </div>

  <h3>Cancelar Cita</h3>

  <!-- Tabla de citas cancelables -->
  <table *ngIf="citas.length > 0; else sinCitasCancelables">
    <thead>
      <tr>
        <th>ID</th>
        <th>Paciente</th>
        <th>Médico</th>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Motivo</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cita of citas">
        <td>{{ cita.id }}</td>
        <td>{{ cita.pacienteNombre }}</td>
        <td>{{ cita.medicoNombre }}</td>
        <td>{{ cita.fecha }}</td>
        <td>{{ cita.hora }}</td>
        <td>{{ cita.motivo }}</td>
        <td>{{ cita.estado }}</td>
        <td>
           <button (click)="cancelarCita(cita.id)">
            Cancelar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

 <ng-template #sinCitasCancelables>
    <div class="no-citas">
      No tienes citas programadas con al menos 2 horas de anticipación para cancelar.
    </div>
  </ng-template>

</div>
